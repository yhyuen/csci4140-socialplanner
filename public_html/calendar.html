<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <title>Social Planner</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</head>

<body>
    <div id="calendarbox">
        <div class="calendar-container">
            <div class="calendar-header">
                <h1>
                    {{monthInfo[date.month].name}}
                    <span>{{date.day}}</span>
                    <button>â–¾</button>
                </h1>
                <p>{{date.year}}</p>
            </div>
            <div class="calendar">
                <span class="day-name" v-for="weekday in weekdayInfo">{{weekday.shorthand}}</span>
                <div class="day day--disabled">30</div>
                <div class="day day--disabled">31</div>
                <div class="day">1</div>
                <div class="day">2</div>
                <div class="day">3</div>
                <div class="day">4</div>
                <div class="day">5</div>
                <div class="day">6</div>
                <div class="day">7</div>
                <div class="day">8</div>
                <div class="day">9</div>
                <div class="day">10</div>
                <div class="day">11</div>
                <div class="day">12</div>
                <div class="day">13</div>
                <div class="day">14</div>
                <div class="day">15</div>
                <div class="day">16</div>
                <div class="day">17</div>
                <div class="day">18</div>
                <div class="day">19</div>
                <div class="day">20</div>
                <div class="day">21</div>
                <div class="day">22</div>
                <div class="day">23</div>
                <div class="day">24</div>
                <div class="day">25</div>
                <div class="day">26</div>
                <div class="day">27</div>
                <div class="day">28</div>
                <div class="day">29</div>
                <div class="day">30</div>
                <div class="day">31</div>
                <div class="day day--disabled">1</div>
                <div class="day day--disabled">2</div>
                <section class="task task--warning">Projects</section>
                <section class="task task--danger">Design Sprint</section>
                <section class="task task--primary">Product Checkup 1
                    <div class="task__detail">
                        <h2>Product Checkup 1</h2>
                        <p>15-17th November</p>
                    </div>
                </section>
                <section class="task task--info">Product Checkup 2</section>
            </div>
        </div>
    </div>

</body>

<script>
    window.addEventListener('load', function () {
        var today = new Date();
        var weekday = today.getDay() - 1;
        var day = today.getDate();
        var month = today.getMonth();
        var year = today.getFullYear();
        var leap = ((year % 4 == 0) && (year % 100 != 0)) || (year % 400 == 0);
        var date = {
            year: year,
            leap: leap,
            month: month,
            day: day,
            weekday: weekday,
        }
        console.log(date);
        var monthInfo = [
            { name: "January", shorthand: "Jan", days: 31 },
            { name: "February", shorthand: "Feb", days: leap ? 29 : 28 },
            { name: "March", shorthand: "Mar", days: 31 },
            { name: "April", shorthand: "Apr", days: 30 },
            { name: "May", shorthand: "May", days: 31 },
            { name: "June", shorthand: "Jun", days: 30 },
            { name: "July", shorthand: "Jul", days: 31 },
            { name: "August", shorthand: "Aug", days: 31 },
            { name: "September", shorthand: "Sep", days: 30 },
            { name: "October", shorthand: "Oct", days: 31 },
            { name: "November", shorthand: "Nov", days: 30 },
            { name: "December", shorthand: "Dec", days: 31 }];
        var weekdayInfo = [
            { name: "Monday", shorthand: "Mon" },
            { name: "Tuesday", shorthand: "Tue" },
            { name: "Wednesday", shorthand: "Wed" },
            { name: "Thursday", shorthand: "Thu" },
            { name: "Friday", shorthand: "Fri" },
            { name: "Saturday", shorthand: "Sat" },
            { name: "Sunday", shorthand: "Sun" }];
        var firstWeekday = (weekday - ((day - 1) % 7) + 7) % 7;
        var lastWeekday = (monthInfo[date.month].days - date.day + weekday) % 7;
        var lastmonth = {
            month: (month - 1 + 12) % 12,
            year: month == 1 ? year - 1 : year};
        var nextmonth = {
            month: (month + 1) % 12,
            year: month == 12 ? year + 1 : year};
        var days = [];
        for (var i = 0; i < firstWeekday; i++){
            var newDay = months[lastmonth.month].days - firstWeekday + 1 + i;
            var newMonth = lastmonth.month;
            var newYear = lastmonth.year;
            days.push({year: newYear, month: newMonth, day: newDay});
        }
        for (var i = 1; i <= monthInfo[date.month].days; i++){
            days.push({year: date.year, month: date.month, day: i});
        }
        for (var i = 1; (days.length % 7 == 0) != 0; i++){
            days.push({year: nextmonth.year, month: nextmonth.month, day: i});
        }
        var calVue = new Vue({
            el: '#calendarbox',
            data: {
                date: date,
                days: days,
                monthInfo: monthInfo,
                weekdayInfo: weekdayInfo
            }
        });
    });


</script>

<style>
    html,
    body {
        width: 100%;
        height: 100%;
    }

    body {
        background: #f5f7fa;
        padding: 40px 0;
        box-sizing: border-box;
        color: #51565d;
    }

    .calendar {
        display: grid;
        width: 100%;
        grid-template-columns: repeat(7, minmax(120px, 1fr));
        grid-template-rows: 50px;
        grid-auto-rows: 120px;
        overflow: auto;

    }

    .calendar-container {
        width: 90%;
        margin: auto;
        overflow: hidden;
        font-family: Montserrat, "sans-serif";
        box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        border-radius: 10px;
        background: #fff;
        max-width: 1200px;
    }

    .calendar-header {
        text-align: center;
        padding: 20px 0;
        background: linear-gradient(to bottom, rgb(250, 251, 253) 0%, rgba(255, 255, 255, 0) 100%);
        border-bottom: 1px solid rgba(166, 168, 179, 0.12);
    }

    .calendar-header h1 {
        margin: 0;
        font-size: 18px;
    }

    .calendar-header p {
        margin: 5px 0 0 0;
        font-size: 13px;
        font-weight: 600;
        color: rgba(#51565d, .4);
    }

    .calendar-header button {
        background: 0;
        border: 0;
        padding: 0;
        color: rgba(#51565d, .7);
        cursor: pointer;
        outline: 0;
    }

    .day {
        border-bottom: 1px solid rgba(166, 168, 179, 0.12);
        border-right: 1px solid rgba(166, 168, 179, 0.12);
        text-align: right;
        padding: 14px 20px;
        letter-spacing: 1px;
        font-size: 12px;
        box-sizing: border-box;
        color: #98a0a6;
        position: relative;
        pointer-events: none;
        z-index: 1;
    }

    .day:nth-of-type(7n + 7) {
        border-right: 0;
    }

    .day:nth-of-type(n + 1):nth-of-type(-n + 7) {
        grid-row: 2;
    }

    .day:nth-of-type(n + 8):nth-of-type(-n + 14) {
        grid-row: 3;
    }

    .day:nth-of-type(n + 15):nth-of-type(-n + 21) {
        grid-row: 4;
    }

    .day:nth-of-type(n + 22):nth-of-type(-n + 28) {
        grid-row: 5;
    }

    .day:nth-of-type(n + 29):nth-of-type(-n + 35) {
        grid-row: 6;
    }

    .day:nth-of-type(7n + 1) {
        grid-column: 1/1;
    }

    .day:nth-of-type(7n + 2) {
        grid-column: 2/2;
    }

    .day:nth-of-type(7n + 3) {
        grid-column: 3/3;
    }

    .day:nth-of-type(7n + 4) {
        grid-column: 4/4;
    }

    .day:nth-of-type(7n + 5) {
        grid-column: 5/5;
    }

    .day:nth-of-type(7n + 6) {
        grid-column: 6/6;
    }

    .day:nth-of-type(7n + 7) {
        grid-column: 7/7;
    }

    .day-name {
        font-size: 12px;
        text-transform: uppercase;
        color: #99a1a7;
        text-align: center;
        border-bottom: 1px solid rgba(166, 168, 179, 0.12);
        line-height: 50px;
        font-weight: 500;
    }

    .day--disabled {
        color: rgba(#98a0a6, 0.6);
        background-color: #ffffff;
        background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23f9f9fa' fill-opacity='1' fill-rule='evenodd'%3E%3Cpath d='M0 40L40 0H20L0 20M40 40V20L20 40'/%3E%3C/g%3E%3C/svg%3E");
        cursor: not-allowed;
    }

    .task {
        border-left-width: 3px;
        padding: 8px 12px;
        margin: 10px;
        border-left-style: solid;
        font-size: 14px;
        position: relative;
    }

    .task--warning {
        border-left-color: #fdb44d;
        grid-column: 4 / span 3;
        grid-row: 3;
        background: #fef0db;
        align-self: center;
        color: darken(#fdb44d, 12%);
        margin-top: -5px;
    }

    .task--danger {
        border-left-color: #fa607e;
        grid-column: 2 / span 3;
        grid-row: 3;
        margin-top: 15px;
        background: rgba(#fdc5d0, 0.7);
        align-self: end;
        color: darken(#fa607e, 12%);
    }

    .task--info {
        border-left-color: #4786ff;
        grid-column: 6 / span 2;
        grid-row: 5;
        margin-top: 15px;
        background: rgba(#dae7ff, 0.7);
        align-self: end;
        color: darken(#4786ff, 12%);
    }

    .task--primary {
        background: #4786ff;
        border: 0;
        border-radius: 4px;
        grid-column: 3 / span 3;
        grid-row: 4;
        align-self: end;
        color: #fff;
        box-shadow: 0 10px 14px rgba(#4786ff, 0.4);
    }

    .task__detail {
        position: absolute;
        left: 0;
        top: calc(100% + 10px);
        background: #fff;
        border: 1px solid rgba(166, 168, 179, 0.2);
        color: #000;
        padding: 20px;
        box-sizing: border-box;
        border-radius: 4px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
        z-index: 2;
    }

    .task__detail:after,
    .task__detail:before {
        bottom: 100%;
        left: 30%;
        border: solid transparent;
        content: " ";
        height: 0;
        width: 0;
        position: absolute;
        pointer-events: none;
    }

    .task__detail:before {
        border-bottom-color: rgba(166, 168, 179, 0.2);
        border-width: 8px;
        margin-left: -8px;
    }

    .task__detail:after {
        border-bottom-color: #fff;
        border-width: 6px;
        margin-left: -6px;
    }

    .task__detail h2 {
        font-size: 15px;
        margin: 0;
        color: #51565d;
    }

    .task__detail p {
        margin-top: 4px;
        font-size: 12px;
        margin-bottom: 0;
        font-weight: 500;
        color: rgba(#51565d, .7);
    }
</style>